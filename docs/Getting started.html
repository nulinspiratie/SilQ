

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Getting started &mdash; SilQ 1.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/silq_icon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Brief QCoDeS guide" href="Brief QCoDeS guide.html" />
    <link rel="prev" title="Installation" href="Installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> SilQ
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="What is SilQ.html">What is SilQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="Installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Initializing-instruments">Initializing instruments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Initializing-Layout">Initializing Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Define-connections">Define connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Create-and-targeting-a-pulse-sequence">Create and targeting a pulse sequence</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Running-a-measurement-loop">Running a measurement loop</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Brief QCoDeS guide.html">Brief QCoDeS guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="Concepts in SilQ.html">Concepts in SilQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="For developers.html">For developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="in-depth guides/index.html">In-depth guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specifications/index.html">Future work</a></li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">Frequently asked questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="Classes and functions index.html">Classes and functions index</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SilQ</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Getting started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/docs/Getting started.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.3rem;
    padding-right: 0.3rem;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 0.3rem;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt a.copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Getting-started">
<h1>Getting started<a class="headerlink" href="#Getting-started" title="Permalink to this headline">¶</a></h1>
<p>This guide is meant to serve as an example on configuring SilQ and QCoDeS and getting and, and getting a first measurement started that uses a PulseSequence. All instruments used in this guide are mock instruments, and therefore can be safely executed. To run this guide, open a Jupyter Notebook, navigate to <code class="docutils literal notranslate"><span class="pre">SilQ/documentation/Getting</span> <span class="pre">started.ipynb</span></code>, and run the cells.</p>
<p>The first step is to load the necessary packages, in this case silq and qcodes</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">silq</span>
<span class="kn">import</span> <span class="nn">qcodes</span> <span class="k">as</span> <span class="nn">qc</span>
</pre></div>
</div>
</div>
<p>The next step is to initialize an experiment (see <a class="reference internal" href="Installation.html"><span class="doc">Installation</span></a>). For this example, we have an experiment called <code class="docutils literal notranslate"><span class="pre">my_experiment</span></code>, whose folder is located in <code class="docutils literal notranslate"><span class="pre">silq/documentation/code/my_experiment</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">silq</span><span class="o">.</span><span class="n">experiments_folder</span> <span class="o">=</span> <span class="s1">&#39;./code&#39;</span>
<span class="n">silq</span><span class="o">.</span><span class="n">initialize</span><span class="p">(</span><span class="s1">&#39;my_experiment&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Initializing imports
Importing often-used packages
Initializing instruments
Loading mock instrument drivers
Initialization complete
</pre></div></div>
</div>
<p>Note that initializing an experiment is optional but recommended, as it allows a place to easily store retrieve all experiment configuration, and to easily load instruments. In fact, most of the code in this guide can be placed inside an init python file in the <code class="docutils literal notranslate"><span class="pre">experiment_folder</span></code></p>
<p>One more thing we should do is set the data root folder, which is the folder where all the experimental data is stored. Here we set it to a temporary folder, feel free to change it to whatever you like:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Create temp folder for data storage</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
<span class="n">qc</span><span class="o">.</span><span class="n">set_data_root_folder</span><span class="p">(</span><span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Data root folder set to C:\Users\Serwan\AppData\Local\Temp\tmpo9a4h9u3
</pre></div></div>
</div>
<div class="section" id="Initializing-instruments">
<h2>Initializing instruments<a class="headerlink" href="#Initializing-instruments" title="Permalink to this headline">¶</a></h2>
<p>The next step is to initialize the different instruments of the experiment. For this example experiment, we assume to have the following instruments:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">trigger_instrument</span></code> performs triggering of the other instruments. We refer to this instrument as the <code class="docutils literal notranslate"><span class="pre">primary_instrument</span></code>, since starting/stopping this will start/stop the pulse sequence</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">AWG_instrument</span></code> outputs waveforms</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Chip</span></code> corresponds to a physical chip used in an experiment. This class doesn’t do much, but we create this so that other instruments can have a connection to it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">digitizer</span></code> acquires digitized traces of signals. We refer to this instrument as the <code class="docutils literal notranslate"><span class="pre">acquisition_instrument</span></code>.</p></li>
</ul>
<p>We create instances of all these instruments:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">silq.tests.mocks.mock_instruments</span> <span class="k">import</span> <span class="p">(</span><span class="n">MockTriggerInstrument</span><span class="p">,</span>
                                               <span class="n">MockAWGInstrument</span><span class="p">,</span>
                                               <span class="n">MockDigitizerInstrument</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">silq.meta_instruments.chip</span> <span class="k">import</span> <span class="n">Chip</span>

<span class="n">trigger_instrument</span> <span class="o">=</span> <span class="n">MockTriggerInstrument</span><span class="p">(</span><span class="s1">&#39;triggerer&#39;</span><span class="p">)</span>
<span class="n">AWG_instrument</span> <span class="o">=</span> <span class="n">MockAWGInstrument</span><span class="p">(</span><span class="s1">&#39;AWG&#39;</span><span class="p">)</span>
<span class="n">chip</span> <span class="o">=</span> <span class="n">Chip</span><span class="p">(</span><span class="s1">&#39;chip&#39;</span><span class="p">,</span> <span class="n">channels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;DC_gate&#39;</span><span class="p">,</span> <span class="s1">&#39;AC_gate&#39;</span><span class="p">])</span>
<span class="n">digitizer</span> <span class="o">=</span> <span class="n">MockDigitizerInstrument</span><span class="p">(</span><span class="s1">&#39;digitizer&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>The next step is to instantiate InstrumentInterfaces corresponding to each of the instruments. An InstrumentInterface is a part of SilQ, whose task it is to convert a setup-independent pulse sequence to concrete instructions sent to the underlying instrument. For more information, see <a class="reference internal" href="Concepts in SilQ.html"><span class="doc">Targeting a pulse sequence</span></a></p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">trigger_interface</span> <span class="o">=</span> <span class="n">silq</span><span class="o">.</span><span class="n">get_instrument_interface</span><span class="p">(</span><span class="n">trigger_instrument</span><span class="p">)</span>

<span class="n">AWG_interface</span> <span class="o">=</span> <span class="n">silq</span><span class="o">.</span><span class="n">get_instrument_interface</span><span class="p">(</span><span class="n">AWG_instrument</span><span class="p">)</span>

<span class="n">chip_interface</span> <span class="o">=</span> <span class="n">silq</span><span class="o">.</span><span class="n">get_instrument_interface</span><span class="p">(</span><span class="n">chip</span><span class="p">)</span>

<span class="n">digitizer_interface</span> <span class="o">=</span> <span class="n">silq</span><span class="o">.</span><span class="n">get_instrument_interface</span><span class="p">(</span><span class="n">digitizer</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Instruments and InstrumentInterfaces usually have a list of Parameters that describe its current settings. We can see a Parameter list for a given Instrument / InstrumentInterface using:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">trigger_instrument</span><span class="o">.</span><span class="n">print_snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
triggerer_interface_triggerer :
        parameter value
--------------------------------------------------------------------------------
IDN    :        None
silent :        False
</pre></div></div>
</div>
<p>Since these are all mock instruments, there aren’t many parameters. However, there is one we should set now: the acquisition sample rate of the digitizer</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">digitizer_interface</span><span class="o">.</span><span class="n">sample_rate</span><span class="p">(</span><span class="mf">10e3</span><span class="p">)</span>  <span class="c1"># 20 kilosamples / second</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Initializing-Layout">
<h2>Initializing Layout<a class="headerlink" href="#Initializing-Layout" title="Permalink to this headline">¶</a></h2>
<p>Once we have all the instruments and their interfaces setup, it is time to configure the Layout. The Layout is a class that represents the physical experimental layout. It can interact with all the instruments via their interfaces, and it knows the connectivity between instruments. The layout is used to target a pulse sequence to an experimental setup, meaning that it will distribute the pulses to the appropriate instrument interfaces. Since it knows the connectivity between instruments, it can
also handle tasks such as triggering, by redirecting the ancillary trigger pulses to the right instrument interface.</p>
<p>When we initialize the Layout, we pass it a list of all the instrument interfaces:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">silq.meta_instruments.layout</span> <span class="k">import</span> <span class="n">Layout</span>
<span class="n">layout</span> <span class="o">=</span> <span class="n">Layout</span><span class="p">(</span><span class="n">instrument_interfaces</span><span class="o">=</span><span class="p">[</span><span class="n">trigger_interface</span><span class="p">,</span>
                                       <span class="n">AWG_interface</span><span class="p">,</span>
                                       <span class="n">chip_interface</span><span class="p">,</span>
                                       <span class="n">digitizer_interface</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>We next perform some initial setup of its parameters:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># These are the channels that the digitizer should acquire. We give each channel a handy label</span>
<span class="n">layout</span><span class="o">.</span><span class="n">acquisition_channels</span><span class="p">([(</span><span class="s1">&#39;ch1&#39;</span><span class="p">,</span> <span class="s1">&#39;output&#39;</span><span class="p">),</span>
                             <span class="p">(</span><span class="s1">&#39;ch2&#39;</span><span class="p">,</span> <span class="s1">&#39;AWG_AC&#39;</span><span class="p">)])</span>

<span class="c1"># We also need to specify the primary and acquisition instruments</span>
<span class="n">layout</span><span class="o">.</span><span class="n">acquisition_instrument</span><span class="p">(</span><span class="s1">&#39;digitizer&#39;</span><span class="p">)</span>
<span class="n">layout</span><span class="o">.</span><span class="n">primary_instrument</span><span class="p">(</span><span class="s1">&#39;triggerer&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We can see a snapshot of its current settings:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">layout</span><span class="o">.</span><span class="n">print_snapshot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
layout :
        parameter             value
--------------------------------------------------------------------------------
IDN                    :        None
acquisition_channels   :        [(&#39;ch1&#39;, &#39;output&#39;), (&#39;ch2&#39;, &#39;AWG_AC&#39;)]
acquisition_instrument :        digitizer
active                 :        False
instruments            :        None
primary_instrument     :        triggerer
samples                :        1
save_trace_channels    :        [&#39;output&#39;]
</pre></div></div>
</div>
</div>
<div class="section" id="Define-connections">
<h2>Define connections<a class="headerlink" href="#Define-connections" title="Permalink to this headline">¶</a></h2>
<p>The layout has a list of all the instruments in the setup, but it also needs to know the connections between the instruments. In this case, the connections have already been defined in the experiment config (file <code class="docutils literal notranslate"><span class="pre">config/connections.json</span></code>), but to be explicit, here we redefine them:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">silq</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">connections</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s1">&#39;output_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;triggerer.ch1&#39;</span><span class="p">,</span>
     <span class="s1">&#39;input_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;AWG.trig_in&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;output_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;triggerer.ch2&#39;</span><span class="p">,</span>
     <span class="s1">&#39;input_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;digitizer.trig_in&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;output_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;AWG.ch1&#39;</span><span class="p">,</span>
     <span class="s1">&#39;input_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;chip.DC_gate&#39;</span><span class="p">,</span>
     <span class="s1">&#39;label&#39;</span><span class="p">:</span> <span class="s1">&#39;stage&#39;</span><span class="p">},</span>  <span class="c1"># We can attach labels to specific connections, which facilitates sending a pulse to that connection.</span>
    <span class="p">{</span><span class="s1">&#39;output_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;AWG.ch2&#39;</span><span class="p">,</span>
     <span class="s1">&#39;input_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;chip.AC_gate&#39;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;output_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;AWG.ch2&#39;</span><span class="p">,</span>
     <span class="s1">&#39;input_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;digitizer.ch2&#39;</span><span class="p">},</span>
    <span class="c1"># We can also combine connections, meaning that a pulse sent to that connection will be sent to each subconnection.</span>
    <span class="p">{</span><span class="s2">&quot;combine&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;AWG.ch2&quot;</span><span class="p">,</span>   <span class="s2">&quot;chip.AC_gate&quot;</span><span class="p">],</span>
                 <span class="p">[</span><span class="s2">&quot;AWG.ch2&quot;</span><span class="p">,</span> <span class="s2">&quot;digitizer.ch2&quot;</span><span class="p">]],</span>
     <span class="s2">&quot;scale&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>  <span class="c1"># We can scale each connection (i.e. the pulse amplitude is multiplied by this value)</span>
     <span class="s2">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;AC&quot;</span><span class="p">},</span>
    <span class="p">{</span><span class="s1">&#39;output_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;chip.output&#39;</span><span class="p">,</span>
     <span class="s1">&#39;input_arg&#39;</span><span class="p">:</span> <span class="s1">&#39;digitizer.ch1&#39;</span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<p>Each connection has an output and input arg, which have the form <code class="docutils literal notranslate"><span class="pre">{instrument_name}.{channel_name}</span></code>. The channels are defined in each InstrumentInterface.</p>
<p>The layout can then directly load these connections from <code class="docutils literal notranslate"><span class="pre">silq.config.connections</span></code>:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">layout</span><span class="o">.</span><span class="n">load_connections</span><span class="p">()</span>
<span class="n">layout</span><span class="o">.</span><span class="n">connections</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
[Connection({triggerer.ch1-&gt;AWG.trig_in}),
 Connection({triggerer.ch2-&gt;digitizer.trig_in}),
 Connection(stage: {AWG.ch1-&gt;chip.DC_gate}),
 Connection({AWG.ch2-&gt;chip.AC_gate}),
 Connection({AWG.ch2-&gt;digitizer.ch2}),
 CombinedConnection AC:
        Connection({AWG.ch2-&gt;chip.AC_gate})
        Connection({AWG.ch2-&gt;digitizer.ch2}),
 Connection({chip.output-&gt;digitizer.ch1})]
</pre></div></div>
</div>
</div>
<div class="section" id="Create-and-targeting-a-pulse-sequence">
<h2>Create and targeting a pulse sequence<a class="headerlink" href="#Create-and-targeting-a-pulse-sequence" title="Permalink to this headline">¶</a></h2>
<p>The layout has now been set up, which means we can use it to target a pulse sequence. We can create a pulse sequence as such:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">silq.pulses</span> <span class="k">import</span> <span class="n">DCPulse</span><span class="p">,</span> <span class="n">PulseSequence</span>

<span class="n">pulse_sequence</span> <span class="o">=</span> <span class="n">PulseSequence</span><span class="p">()</span>
<span class="n">pulse_sequence</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">DCPulse</span><span class="p">(</span><span class="s1">&#39;empty&#39;</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">connection_label</span><span class="o">=</span><span class="s1">&#39;stage&#39;</span><span class="p">,</span> <span class="n">acquire</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                   <span class="n">DCPulse</span><span class="p">(</span><span class="s1">&#39;read&#39;</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">connection_label</span><span class="o">=</span><span class="s1">&#39;stage&#39;</span><span class="p">,</span> <span class="n">acquire</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span>
                   <span class="n">DCPulse</span><span class="p">(</span><span class="s1">&#39;plunge&#39;</span><span class="p">,</span> <span class="n">amplitude</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">connection_label</span><span class="o">=</span><span class="s1">&#39;stage&#39;</span><span class="p">,</span> <span class="n">acquire</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="n">pulse_sequence</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PulseSequence with 3 pulses, duration: 0.3
        DCPulse(empty, A=-1, t_start=0, duration=0.1
                connection_label: stage)
        DCPulse(read, A=0, t_start=0.1, duration=0.1
                connection_label: stage)
        DCPulse(plunge, A=1, t_start=0.2, duration=0.1
                connection_label: stage)
</pre></div></div>
</div>
<p>We give each pulse a name, as well as some additional attributes. Unless <code class="docutils literal notranslate"><span class="pre">pulse.t_start</span></code> is specified, the pulse is appended to the end of the pulse sequence. We have set the flag <code class="docutils literal notranslate"><span class="pre">acquire</span> <span class="pre">=</span> <span class="pre">True</span></code> for each pulse, which indicates that the <code class="docutils literal notranslate"><span class="pre">acquisition_instrument</span></code> should acquire the signal trace during this pulse. Each pulse also has a <code class="docutils literal notranslate"><span class="pre">connection_label</span></code>, which is needed to tell the layout which connection the pulse should go to. In this case, the pulses are sent to:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">layout</span><span class="o">.</span><span class="n">get_connection</span><span class="p">(</span><span class="n">connection_label</span><span class="o">=</span><span class="s1">&#39;stage&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Connection(stage: {AWG.ch1-&gt;chip.DC_gate})
</pre></div></div>
</div>
<p>Targeting a pulse sequence is done by setting the layout pulse sequence</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">layout</span><span class="o">.</span><span class="n">pulse_sequence</span> <span class="o">=</span> <span class="n">pulse_sequence</span>
</pre></div>
</div>
</div>
<p>If there are no errors, this means that the instrument interfaces should be able to program their instruments to output this pulse sequence. Each interface has its own pulse sequence, which contain pulses that it should outputeach of which is targeted to a specific connection.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">AWG_interface</span><span class="o">.</span><span class="n">pulse_sequence</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PulseSequence with 3 pulses, duration: 0.3
        DCPulse(empty, A=-1, t_start=0, duration=0.1
                connection: Connection(stage: {AWG.ch1-&gt;chip.DC_gate}))
        DCPulse(read, A=0, t_start=0.1, duration=0.1
                connection: Connection(stage: {AWG.ch1-&gt;chip.DC_gate}))
        DCPulse(plunge, A=1, t_start=0.2, duration=0.1
                connection: Connection(stage: {AWG.ch1-&gt;chip.DC_gate}))
</pre></div></div>
</div>
<p>Looking at the pulse sequences of instrument interfaces can be a useful debugging tool</p>
<p>We can program the instruments using:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">layout</span><span class="o">.</span><span class="n">samples</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>  <span class="c1"># Acquire 100 samples of the pulse sequence</span>
<span class="n">layout</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
</pre></div>
</div>
</div>
<p>The instruments are now ready to output the pulse sequence.</p>
<p>We can now perform an acquisition:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">layout</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>  <span class="c1"># Start the instruments</span>
<span class="n">pulse_traces</span> <span class="o">=</span> <span class="n">layout</span><span class="o">.</span><span class="n">acquisition</span><span class="p">()</span>  <span class="c1"># Perform an acquisition and return the traces</span>
<span class="n">layout</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>  <span class="c1"># Stop the instruments</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pulse_traces</span></code> now contains the measured traces, segmented per pulse. Before we look at the contents of this variable, we first look at the full, unsegmented traces:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">qc</span><span class="o">.</span><span class="n">MatPlot</span><span class="p">(</span><span class="n">digitizer_interface</span><span class="o">.</span><span class="n">traces</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>  <span class="c1"># [0] corresponds to the first channel (output)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/docs_Getting_started_44_0.png" src="../_images/docs_Getting_started_44_0.png" />
</div>
</div>
<p>The y-axis shows the sample number, and the x-axis is the trace index (acquired at sample rate 10 kHz).</p>
<p>We see three different pulses:</p>
<ul class="simple">
<li><p>plunge (between 0 and 1000)</p></li>
<li><p>read (between 1000 and 2000). Here we see occasional blips in the measured current, which could indicate an electron tunneling event.</p></li>
<li><p>empty (between 2000 and 3000)</p></li>
</ul>
<p>In the returned variable <code class="docutils literal notranslate"><span class="pre">pulse_traces</span></code>, the raw traces have already been segmented, and so we can look at traces corresponding to each individual pulse:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">MatPlot</span><span class="p">(</span><span class="n">subplots</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pulse_traces</span><span class="p">[</span><span class="s1">&#39;plunge&#39;</span><span class="p">][</span><span class="s1">&#39;output&#39;</span><span class="p">])</span>
<span class="n">plot</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Plunge pulse&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pulse_traces</span><span class="p">[</span><span class="s1">&#39;read&#39;</span><span class="p">][</span><span class="s1">&#39;output&#39;</span><span class="p">])</span>
<span class="n">plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Read pulse&#39;</span><span class="p">);</span>
<span class="n">plot</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">pulse_traces</span><span class="p">[</span><span class="s1">&#39;empty&#39;</span><span class="p">][</span><span class="s1">&#39;output&#39;</span><span class="p">])</span>
<span class="n">plot</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Empty pulse&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Text(0.5,1,&#39;Empty pulse&#39;)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/docs_Getting_started_47_1.png" src="../_images/docs_Getting_started_47_1.png" />
</div>
</div>
</div>
<div class="section" id="Running-a-measurement-loop">
<h2>Running a measurement loop<a class="headerlink" href="#Running-a-measurement-loop" title="Permalink to this headline">¶</a></h2>
<p>So far we have shown how to target a pulse sequence to a specific layout, perform an acquisition and show the resulting traces. However, there is often a final step to this process, which is analysing the traces and extracting useful information from it. For this, we have <code class="docutils literal notranslate"><span class="pre">AcquisitionParameters</span></code>. There are many different types of AcquisitionParameters, each of which is attached to a specific pulse sequence, and has a corresponding analysis.</p>
<p>As an example, we will look at the <code class="docutils literal notranslate"><span class="pre">VariableReadParameter</span></code>, which is used on our experiments to measure a spin tail (where an electron has spin-dependent tunneling). The pulse sequence is the same as the one used above. Initializing an Acquisitionparameter will automatically create the attached pulse sequence, and so we first need to globally define some default settings for its pulses.</p>
<p>Default pulse settings are defined in <code class="docutils literal notranslate"><span class="pre">silq.config.pulses</span></code>, and are attached to the name of a pulse:</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">silq</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">pulses</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;plunge&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;amplitude&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;connection_label&#39;</span><span class="p">:</span> <span class="s1">&#39;stage&#39;</span><span class="p">},</span>
    <span class="s1">&#39;read&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="s1">&#39;amplitude&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;connection_label&#39;</span><span class="p">:</span> <span class="s1">&#39;stage&#39;</span><span class="p">},</span>
    <span class="s1">&#39;empty&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="mf">0.05</span><span class="p">,</span> <span class="s1">&#39;amplitude&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;connection_label&#39;</span><span class="p">:</span> <span class="s1">&#39;stage&#39;</span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<p>Now we are ready to create a <code class="docutils literal notranslate"><span class="pre">VariableReadParameter</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">silq.parameters.acquisition_parameters</span> <span class="k">import</span> <span class="n">VariableReadParameter</span>
<span class="n">variable_read_parameter</span> <span class="o">=</span> <span class="n">VariableReadParameter</span><span class="p">()</span>
<span class="n">variable_read_parameter</span><span class="o">.</span><span class="n">pulse_sequence</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PulseSequence with 3 pulses, duration: 0.2
        DCPulse(plunge, A=1, t_start=0, duration=0.05
                connection_label: stage)
        DCPulse(read, A=0, t_start=0.05, duration=0.1
                connection_label: stage)
        DCPulse(empty, A=-1, t_start=0.15, duration=0.05
                connection_label: stage)
</pre></div></div>
</div>
<p>We see that it automatically copies the default pulse values from the config. We can easily override these default values</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">variable_read_parameter</span><span class="o">.</span><span class="n">pulse_sequence</span><span class="p">[</span><span class="s1">&#39;empty&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">duration</span> <span class="o">=</span> <span class="mf">0.03</span>
<span class="n">variable_read_parameter</span><span class="o">.</span><span class="n">pulse_sequence</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
PulseSequence with 3 pulses, duration: 0.18
        DCPulse(plunge, A=1, t_start=0, duration=0.05
                connection_label: stage)
        DCPulse(read, A=0, t_start=0.05, duration=0.1
                connection_label: stage)
        DCPulse(empty, A=-1, t_start=0.15, duration=0.03
                connection_label: stage)
</pre></div></div>
</div>
<p>The analysis of the VariableReadParameter is particularly simply; it simply joins all the pulse traces together and averages these traces over all the samples, resulting in a single averaged time trace. We can perform the acquisition and subsequent analysis in one go by calling the parameter:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">result</span> <span class="o">=</span> <span class="n">variable_read_parameter</span><span class="p">()</span>
<span class="n">qc</span><span class="o">.</span><span class="n">MatPlot</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">result</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[34]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
(array([ 0.01989265,  0.01428547, -0.01898348, ...,  0.98850313,
         0.98532145,  1.01357507]),)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/docs_Getting_started_56_1.png" src="../_images/docs_Getting_started_56_1.png" />
</div>
</div>
<p>One important reason why we have combined the acquisition and analysis into a Parameter is that Parameters are used in QCoDeS in a measurement loop.</p>
<p>One typical measurement with this pulse sequence is to measure the averaged trace for a varying read pulse amplitude. All Pulse properties are also Parameters (although you have to access them slightly differently), and so we can easily create a measurement that varies the read amplitude, and measures the pulse sequence trace:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="k">measurement</span> variable_read
for variable_read_parameter.pulse_sequence[&#39;read&#39;][&#39;amplitude&#39;].sweep(-1, 1, num=21):
    variable_read_parameter

loop.run()
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
DataSet:
   data = load_data(&#39;data/2019-03-13/#001_variable_read_14-51-28&#39;)
   &lt;Type&gt;   | &lt;array_id&gt;         | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | read_amplitude_set | amplitude    | (21,)
   Setpoint | time_set           | time         | (21, 2000)
   Measured | read_voltage       | read_voltage | (21, 2000)
</pre></div></div>
</div>
<p>Once the measurement is complete, the data has been saved in the root data folder (see the first cell for the location). The output shows the data content, and we can access it as such:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">data</span><span class="o">.</span><span class="n">read_voltage</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[35]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
DataArray[21,2000]: read_voltage
array([[ 0.01748509,  0.01078835, -0.02103584, ...,  0.97888773,
         1.01976484,  0.98638722],
       [-0.00242784,  0.04555626, -0.00581067, ...,  0.96514436,
         1.0199198 ,  1.00882665],
       [ 0.01917471, -0.00757159,  0.00557461, ...,  1.0090673 ,
         1.01884209,  0.99956237],
       ...,
       [ 0.0045526 , -0.0027798 ,  0.01629096, ...,  1.01591407,
         1.00669397,  1.01389304],
       [-0.02846488,  0.0088031 ,  0.01830787, ...,  0.98936173,
         1.0205617 ,  1.01412097],
       [ 0.00902154, -0.00853018,  0.0085713 , ...,  1.01042134,
         1.00427289,  0.99960007]])
</pre></div></div>
</div>
<p>The data output’s second line shows the location of the data, and how we can load the existing dataset from disk:</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">qcodes</span> <span class="k">import</span> <span class="n">load_data</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">load_data</span><span class="p">(</span><span class="s1">&#39;data/2019-03-13/#001_variable_read_14-51-28&#39;</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[37]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
DataSet:
   data = load_data(&#39;data/2019-03-13/#001_variable_read_14-51-28&#39;)
   &lt;Type&gt;   | &lt;array_id&gt;         | &lt;array.name&gt; | &lt;array.shape&gt;
   Setpoint | read_amplitude_set | amplitude    | (21,)
   Setpoint | time_set           | time         | (21, 2000)
   Measured | read_voltage       | read_voltage | (21, 2000)
</pre></div></div>
</div>
<p>Finally, we can plot the results using <code class="docutils literal notranslate"><span class="pre">qc.MatPlot</span></code></p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">plot</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">MatPlot</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">read_voltage</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">read_voltage</span><span class="p">)</span>
<span class="n">plot</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">qcodes_colorbar</span><span class="o">.</span><span class="n">set_clim</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/docs_Getting_started_64_0.png" src="../_images/docs_Getting_started_64_0.png" />
</div>
</div>
<p>In the right plot we have purposely shifted the colorbar limits, and we can clearly see the existence of a spin-tail! Note that because we are using qc.MatPlot in combination with a dataset array, all the axis values and labels are automatically taken care of!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Brief QCoDeS guide.html" class="btn btn-neutral float-right" title="Brief QCoDeS guide" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Serwan Asaad, Mark Johnson

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>